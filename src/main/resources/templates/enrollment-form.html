<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${enrollment.id == null ? 'Создать новую запись' : 'Редактировать запись'}"></title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<h1 th:text="${enrollment.id == null ? 'Создать новую запись' : 'Редактировать запись'}"></h1>
<form th:action="${enrollment.id == null ? '/enrollments/save' : '/enrollments/save'}" method="post">
  <input type="hidden" th:name="id" th:value="${enrollment.id}"/>
  <div>
    <label for="user_id">ID пользователя:</label>
    <select id="user_id" name="user_id" required>
      <option th:each="user : ${users}" th:value="${user.id}" th:text="${user.username}"></option>
    </select>
  </div>
  <div>
    <label for="course_id">ID курса:</label>
    <select id="course_id" name="course_id" required>
      <option th:each="course : ${courses}" th:value="${course.id}" th:text="${course.title}"></option>
    </select>
  </div>
  <div>
    <label for="status">Статус:</label>
    <select id="status" name="status" required>
      <option value="COMPLETED">Завершено</option>
      <option value="IN_PROGRESS">В процессе</option>
      <option value="NOT_STARTED">Не начато</option>
    </select>
  </div>
  <div>
    <label for="attempts">Попытки:</label>
    <input type="number" id="attempts" name="attempts" th:value="${enrollment.attempts}" required min="1"/>
  </div>
  <button type="submit">Сохранить</button>
  <a href="/enrollments">Отмена</a>
</form>
</body>
</html>
